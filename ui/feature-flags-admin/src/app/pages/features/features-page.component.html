<h2>Features</h2>

<!-- ✅ Create must call openCreate() -->
<button type="button" (click)="openCreate()">+ Create Feature</button>

<div *ngIf="loading">Loading...</div>

<table *ngIf="!loading" border="1" cellpadding="6" cellspacing="0">
  <thead>
    <tr>
      <th>Key</th>
      <th>Enabled</th>
      <th>Description</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let f of features">
      <td>{{ f.key }}</td>
      <td>{{ f.defaultState }}</td>
      <td>{{ f.description }}</td>
      <td>
        <!-- ✅ Details must navigate -->
        <button type="button" (click)="details(f)">Details</button>

        <!-- ✅ Edit must call openEdit(f) -->
        <button type="button" (click)="openEdit(f)">Edit</button>

        <button type="button" (click)="delete(f)">Delete</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- dialogs -->
<app-create-feature-dialog
  *ngIf="createOpen && !editTarget"
  (closed)="closeCreate()">
</app-create-feature-dialog>

<app-update-feature-dialog
  *ngIf="editTarget && !createOpen"
  [feature]="editTarget"
  (closed)="closeEdit($event)">
</app-update-feature-dialog>

